# 🎓 유아발달상황 종합평가 작성 도우미 - 상세 사용 가이드

## 📋 목차
1. [프로젝트 개요](#프로젝트-개요)
2. [설치 및 실행](#설치-및-실행)
3. [두 가지 버전 비교](#두-가지-버전-비교)
4. [상세 사용법](#상세-사용법)
5. [예시 시나리오](#예시-시나리오)
6. [FAQ](#faq)
7. [문제 해결](#문제-해결)

---

## 프로젝트 개요

### 무엇을 해결하나요?
유치원 교사들이 학기말마다 작성해야 하는 **유아발달상황 종합평가**를 AI가 자동으로 생성해주는 도구입니다.

### 주요 특징
- ✅ **누리과정 5개 영역 자동 반영**: 신체운동건강, 의사소통, 사회관계, 예술경험, 자연탐구
- ✅ **따뜻한 교사 말투**: 전문적이면서도 따뜻한 문체 자동 생성
- ✅ **RAG 기반 참고 자료 활용**: 기존 평가 사례를 학습하여 더 정확한 평가문 생성
- ✅ **대화형 수정**: 생성된 평가문을 대화를 통해 즉시 수정 가능
- ✅ **근거 제시**: 각 평가의 발달적 근거 자동 제공

---

## 설치 및 실행

### 사전 준비물
1. **Python 3.8 이상** 설치 ([다운로드](https://www.python.org/downloads/))
2. **OpenAI API 키** ([발급 방법](#openai-api-키-발급))

### 설치 단계

#### 1단계: 프로젝트 다운로드 및 압축 해제
```bash
# 다운로드한 파일 압축 해제
tar -xzf kindergarten_rag_chatbot.tar.gz
cd kindergarten_rag_chatbot
```

#### 2단계: 가상환경 생성 (권장)
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Mac/Linux
python3 -m venv venv
source venv/bin/activate
```

#### 3단계: 패키지 설치

**기본 버전 (빠른 시작)**
```bash
pip install -r requirements.txt
```

**고급 버전 (RAG 기능 포함)**
```bash
pip install -r requirements_advanced.txt
```

#### 4단계: 앱 실행

**기본 버전**
```bash
streamlit run app.py
```

**고급 버전 (문서 업로드 및 RAG 검색 지원)**
```bash
streamlit run app_advanced.py
```

#### 5단계: 브라우저에서 접속
자동으로 브라우저가 열리고 `http://localhost:8501`로 접속됩니다.

---

## 두 가지 버전 비교

| 기능 | 기본 버전 (app.py) | 고급 버전 (app_advanced.py) |
|------|-------------------|---------------------------|
| **설치 난이도** | ⭐ 쉬움 | ⭐⭐ 보통 |
| **실행 속도** | ⚡ 빠름 | ⚡⚡ 보통 (문서 분석 시간 추가) |
| **평가문 생성** | ✅ | ✅ |
| **5개 영역 포함** | ✅ | ✅ |
| **발달 지식 베이스** | ✅ (내장) | ✅ (내장) |
| **문서 업로드** | ❌ | ✅ PDF, PPTX, TXT |
| **RAG 검색** | ❌ | ✅ 유사 문서 자동 검색 |
| **임베딩 생성** | ❌ | ✅ OpenAI Embeddings API |
| **참고 문서 표시** | ❌ | ✅ 검색된 문서 조각 표시 |

### 추천 사용 시나리오

**기본 버전을 선택하세요:**
- 빠르게 시작하고 싶을 때
- 별도의 참고 자료가 없을 때
- 기본 발달 지식만으로 충분할 때

**고급 버전을 선택하세요:**
- 기존 평가 사례를 활용하고 싶을 때
- 학교/반별 특색을 반영하고 싶을 때
- 더 정확하고 맥락에 맞는 평가를 원할 때

---

## 상세 사용법

### OpenAI API 키 발급

1. [OpenAI Platform](https://platform.openai.com/) 접속
2. 회원가입 또는 로그인
3. 우측 상단 프로필 → **API keys** 클릭
4. **Create new secret key** 클릭
5. 키 이름 입력 (예: "유치원평가도우미") 후 생성
6. 생성된 키를 **반드시 복사**하여 안전한 곳에 보관
   ⚠️ 한 번만 표시되므로 재확인 불가!

### 비용 안내
- **GPT-4**: 입력 $0.03/1K 토큰, 출력 $0.06/1K 토큰
- **임베딩** (고급 버전): $0.0001/1K 토큰
- **예상 비용**: 평가문 1개당 약 $0.10~0.20 (한화 약 130~260원)

---

## 예시 시나리오

### 시나리오 1: 만 3세 아이 평가 (기본 버전)

#### 입력
```
이름: 고도율
나이: 만 3세
학기: 1학기

관찰 내용:
하츄핑을 그리고 잘라서 그걸로 친구와 역할놀이함. 
경험한 일에 대해 기억하고 교사나 친구들에게 이야기함. 
도전하는 음식이 많고 골고루 먹으며 남기지 않고 먹는 모습이 많아짐.
```

#### 출력 (예시)
```
항상 밝고 긍정적인 에너지를 가지고 생활하는 도율이는 다양한 경험을 
통해 즐겁게 성장하고 있습니다. 

특히, 하츄핑을 직접 그리고 오려서 친구들과 역할놀이를 하는 모습이 
인상적이며, 이를 통해 창의력과 상상력을 자연스럽게 펼쳐 나가고 
있습니다. (예술경험 영역) 가위를 사용하여 정교하게 자르는 과정에서 
소근육 발달도 함께 이루어지고 있습니다. (신체운동건강 영역)

친구들과 상황에 맞는 대화를 주고받으며 놀이에 몰입하는 모습을 보면, 
도율이의 풍부한 표현력과 사회성이 잘 발달하고 있음을 알 수 있습니다. 
(의사소통, 사회관계 영역)

경험한 일을 세세하게 기억하며 교사와 친구들에게 이야기하는 도율이는 
주변에서 일어나는 다양한 사건과 감정을 적극적으로 공유하려는 태도를 
보입니다. 이러한 경험 나누기는 언어 발달뿐만 아니라 공감 능력과 
사회적 상호작용을 키우는 데에도 큰 도움이 됩니다.

식사 시간에는 다양한 음식을 도전하는 용기를 보이며, 골고루 먹으려는 
태도가 점점 자연스러워지고 있습니다. (신체운동건강 영역) 처음에는 
낯선 음식에 망설이기도 했지만, 점점 스스로 한 입씩 맛보며 끝까지 
남기지 않고 먹는 모습을 보며 도율이의 성장과 자립심이 한층 자라났음을 
느낍니다.

놀이 중 친구가 만든 블록 탑을 관찰하고 "높이 쌓았네!"라고 말하며 
크기와 높이에 대한 개념을 자연스럽게 탐구하는 모습도 보입니다. 
(자연탐구 영역)

1학기 동안 유치원 생활을 즐기며 적극적으로 참여한 도율이의 2학기 
생활도 응원합니다! 가정에서도 다양한 놀이와 대화를 통해 도율이가 
더욱 풍부한 경험을 쌓고, 자신의 생각을 자유롭게 표현할 수 있도록 
따뜻한 관심을 가져주시면 좋겠습니다. 😊

---
📚 참고한 자료
- 누리과정 만 3세 발달 특성
- 예술경험 영역: 의도를 가진 그리기, 가위질
- 의사소통 영역: 경험 말하기, 3-4단어 문장 사용
- 신체운동건강 영역: 소근육 발달, 건강한 식습관
- 사회관계 영역: 또래와의 협동놀이
- 자연탐구 영역: 사물의 속성 탐색

🔍 발달적 근거
- 가위질은 만 3세의 대표적인 소근육 발달 지표입니다
- 역할놀이는 상징놀이로, 인지 발달과 사회성 발달의 중요한 이정표입니다
- 경험 말하기는 만 3세의 언어 발달 수준에 적합한 활동입니다
- 새로운 음식 시도는 자율성과 자립심 발달을 보여줍니다
```

### 시나리오 2: 고급 버전 - 문서 업로드 활용

#### 1단계: 참고 문서 준비
- 작년 평가 사례 (PPTX)
- 발달 특성 자료 (PDF)
- 학교 평가 가이드 (TXT)

#### 2단계: 문서 업로드
1. 사이드바에서 "📚 참고 문서 업로드" 섹션 찾기
2. 파일 선택 (여러 개 가능)
3. "📂 문서 분석 및 로드" 버튼 클릭
4. ✅ 성공 메시지 확인

#### 3단계: 평가 생성
동일하게 아이 정보 입력 → AI가 **업로드한 문서를 참고하여** 평가 생성

#### 장점
- 학교/반의 특색 있는 표현 방식 학습
- 유사한 사례 참고로 더 구체적인 평가
- 일관성 있는 평가 스타일 유지

---

## FAQ

### Q1: API 키가 없으면 사용할 수 없나요?
**A:** 네, 이 프로그램은 OpenAI의 GPT-4 모델을 사용하므로 API 키가 필수입니다. 
무료 크레딧이 제공되는 경우도 있으니 확인해보세요.

### Q2: 생성된 평가문을 수정하고 싶어요
**A:** 두 가지 방법이 있습니다:
1. **대화형 수정**: 하단의 입력창에 "사회관계 부분을 더 구체적으로 써주세요" 같은 요청 입력
2. **직접 수정**: "📋 복사" 버튼으로 복사 후 워드 등에서 수정

### Q3: 5개 영역이 모두 포함되지 않았어요
**A:** 관찰 내용에 특정 영역의 행동이 없으면 AI가 추론하여 작성합니다. 
더 정확한 평가를 위해 5개 영역에 해당하는 관찰 내용을 골고루 입력해주세요.

**5개 영역 예시:**
- **신체운동건강**: 달리기, 가위질, 식사습관
- **의사소통**: 이야기 듣기, 경험 말하기, 그림책 보기
- **사회관계**: 친구와 놀이, 감정 표현, 규칙 지키기
- **예술경험**: 그리기, 만들기, 노래 부르기
- **자연탐구**: 관찰하기, 질문하기, 수 세기

### Q4: 파일 업로드가 안 돼요 (고급 버전)
**A:** 다음을 확인하세요:
1. API 키가 입력되어 있나요?
2. 지원하는 형식인가요? (PDF, PPTX, TXT만 가능)
3. 파일 크기가 너무 크지 않나요? (각 10MB 이하 권장)
4. 파일이 손상되지 않았나요?

### Q5: 비용이 얼마나 드나요?
**A:** 평가문 1개당 약 130~260원 정도입니다. 
- 짧은 관찰 내용: 약 130원
- 긴 관찰 내용 + 문서 업로드: 약 260원

월 30개 평가 작성 시 약 4,000~8,000원 정도 예상됩니다.

### Q6: 인터넷 연결이 필요한가요?
**A:** 네, OpenAI API를 호출하므로 인터넷 연결이 필수입니다.

### Q7: 여러 명의 평가를 한 번에 만들 수 있나요?
**A:** 현재 버전은 1명씩 작성하는 방식입니다. 
향후 업데이트에서 일괄 처리 기능을 추가할 예정입니다.

---

## 문제 해결

### 문제 1: "Invalid API key" 오류
**원인**: 잘못된 API 키 입력
**해결**:
1. API 키를 다시 확인하세요
2. 키 앞뒤 공백이 없는지 확인하세요
3. OpenAI 계정에서 키가 활성화되어 있는지 확인하세요

### 문제 2: "Rate limit exceeded" 오류
**원인**: API 사용량 한도 초과
**해결**:
1. 잠시 후 다시 시도하세요
2. OpenAI 대시보드에서 사용량 확인
3. 유료 플랜 고려 (사용량이 많은 경우)

### 문제 3: 앱이 느려요
**원인**: 문서 분석 중이거나 API 응답 대기
**해결**:
1. 인터넷 연결 상태 확인
2. 업로드하는 문서 개수와 크기 줄이기
3. 기본 버전 사용 고려

### 문제 4: 한글이 깨져요
**원인**: 인코딩 문제
**해결**:
1. 터미널에서 실행 시:
   ```bash
   # Windows
   chcp 65001
   streamlit run app.py
   
   # Mac/Linux는 문제 없음
   ```

### 문제 5: 패키지 설치 오류
**원인**: Python 버전 또는 pip 문제
**해결**:
```bash
# pip 업그레이드
python -m pip install --upgrade pip

# 개별 설치 시도
pip install streamlit
pip install openai
pip install python-dotenv
```

---

## 추가 팁

### 💡 더 좋은 평가문을 받으려면

1. **구체적인 관찰 내용 작성**
   - ❌ "친구와 잘 놀아요"
   - ✅ "블록으로 집을 만들며 친구와 역할을 나누어 소꿉놀이를 했어요"

2. **5개 영역 골고루 포함**
   - 각 영역별 최소 1개 이상의 관찰 내용 포함

3. **긍정적 표현 사용**
   - ❌ "산만하고 집중을 못해요"
   - ✅ "다양한 활동에 관심을 보이며 탐색하려는 모습을 보여요"

4. **수정 요청 활용**
   - 생성 후 "더 따뜻한 표현으로 바꿔주세요"
   - "예술경험 부분을 더 자세히 써주세요"

### 💾 데이터 관리

**평가문 백업**
- 자동 저장된 파일 위치: `saved_evaluations/` 폴더
- 정기적으로 다른 곳에 백업하세요

**업로드한 문서 관리**
- `uploads/` 폴더에 저장됨
- 개인정보가 포함된 문서는 사용 후 삭제 권장

---

## 연락처 및 지원

### 버그 리포트
프로그램 사용 중 문제가 발생하면 다음 정보와 함께 문의해주세요:
- 사용 중인 운영체제 (Windows/Mac/Linux)
- Python 버전
- 오류 메시지 전체 내용
- 재현 방법

### 기능 제안
더 필요한 기능이 있다면 제안해주세요!

---

**Made with ❤️ for Teachers**
